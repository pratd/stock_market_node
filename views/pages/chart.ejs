<% include ../partials/header %>
<div class="detailed-market container mt-5">
	<div class="title d-flex flex-column flex-sm-row flex-md-row flex-lg-row flex-xl-row justify-content-between align-items-start  align-items-sm-center align-items-md-center align-items-lg-center align-items-xl-center mb-5">
		<div class="d-flex align-items-center">
			<h3 class="table-title my-0 mx-3"><%= market[0].symbol %></h3>
		</div>
	</div>
	<div class="body">
        <div id="chart">
        </div>
	</div>
</div>
<% include ../partials/footer %>
<script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
<script>
    var options={
        chart: {
            type: 'candlestick',
            height: 350,
            width: 800
        },
        title: {
            text: 'CandleStick Chart',
            align: 'left'
        },
        xaxis: {
            type: 'datetime'
        },
        yaxis: {
            tooltip: {
                enabled: true
            }
        },
        plotOptions:{
            candlestick:{
                colors:{
                    upward: '#3C90EB',
                    downward: '#DF7D46'
                },
                wick:{
                    useFillColor:true,
                }
            }
        },
        responsive: [
            {
                breakpoint: 384,
                // options: {
                // 	plotOptions: {
                // 	candlestick: {
                // 		horizontal: true
                // 	}
                // 	},
                // 	legend: {
                // 	position: "bottom"
                // 	}
                // }
            }
        ],
        series:[ JSON.parse('<%- chartData%>')
            // {
            // name:'Price chart',
            // data:[]
            // }
        ]
	};
    var chart = new ApexCharts(
        document.querySelector("#chart"),
        options
    );
    chart.render();
</script>